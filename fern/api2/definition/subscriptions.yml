# yaml-language-server: $schema=https://raw.githubusercontent.com/fern-api/fern/main/fern.schema.json

imports:
  commons: commons.yml

services:
  http:
    SubscriptionsService:
      auth: true
      base-path: /projects/{id}/subscriptions
      path-parameters:
        id: integer
      endpoints:
        getSubscriptionsProjectsIdSubscriptionsGet:
          path: ""
          method: GET
          docs: Get a list of all subscriptions for a given project.
          display-name: Get Subscriptions

        createSubscriptionProjectsIdSubscriptionsPost:
          path: ""
          method: POST
          docs: >-
            Add a subscription to a project to get notifications for events of
            interest such
            as when a task has been completed.
          display-name: Create Subscription
          request:
            body: commons.SubRequest

        updateSubscriptionProjectsIdSubscriptionsSubIdPut:
          path: /{sub_id}
          method: PUT
          docs: >-
            Update an existing subscription. This is useful if you want to
            change
            callback details.
          display-name: Update Subscription
          path-parameters:
            sub_id: string
          request:
            body: commons.SubRequest

        deactivateSubscriptionProjectsIdSubscriptionsSubIdDelete:
          path: /{sub_id}
          method: DELETE
          docs: >-
            Deactivate an existing subscription, which will result in you no
            longer
            receiving notifications from the events associated to this
            subscription.
          display-name: Deactivate Subscription
          path-parameters:
            sub_id: string

        testSubscriptionProjectsIdSubscriptionsSubIdTestPost:
          path: /{sub_id}/test
          method: POST
          docs: >-
            Test a subscription.
            Posting to this endpoint using the test_message query param will
            trigger
            a test notification from the Humanloop platform to the subscriptions
            callback url.
          display-name: Test Subscription
          path-parameters:
            sub_id: string
          request:
            query-parameters:
              test_message: string
